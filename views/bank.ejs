<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bank Registration</title>
  <link rel="stylesheet" href="/bankstyle.css">
</head>
<body>
  <h1>Global Bank Limited- GBL</h1>
  <div class="form-box">
    <h2>User Registration</h2>
    <form id="registrationForm">
      <div class="input-box">
        <input type="text" id="username" name="username" placeholder="Name" required>
      </div>
      <div class="input-box">
        <input type="number" id="age" name="age" placeholder="Age" required>
      </div>
      <div class="input-box">
        <input type="tel" id="phone" name="phone" placeholder="Phone Number" required>
      </div>
      <div class="input-box">
        <input type="email" id="email" name="email" placeholder="Email" required>
        <span id="emailError" class="error"></span>
      </div>
      <div class="input-box">
        <input type="password" id="password" name="password" placeholder="Password (min 6 characters)" required>
        <span id="passwordError" class="error"></span>
      </div>
     <button type="button" class="btn" onclick="registerUser()">Register</button>
     <a href="login.html" style="margin-left: 10px;">Already Registered? Login.</a>
    </form>
  </div>

  <script>
    function registerUser() {
      var username = document.getElementById('username').value;
      var age = document.getElementById('age').value;
      var phone = document.getElementById('phone').value;
      var email = document.getElementById('email').value;
      var password = document.getElementById('password').value;

      // Assuming some basic validation for email and password
      var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      var passwordPattern = /^.{6,}$/;

      if (!emailPattern.test(email)) {
        document.getElementById('emailError').textContent = 'Invalid email format';
        return;
      } else {
        document.getElementById('emailError').textContent = '';
      }

      if (!passwordPattern.test(password)) {
        document.getElementById('passwordError').textContent = 'Password must be at least 6 characters';
        return;
      } else {
        document.getElementById('passwordError').textContent = '';
      }

      // Save user data in local storage
      var userData = {
        username: username,
        age: age,
        phone: phone,
        email: email,
        password: password
      };

      // Check if user already exists in local storage
      var users = JSON.parse(localStorage.getItem('registeredUsers')) || [];
      var existingUser = users.find(user => user.email === email);
      if (existingUser) {
        alert('User with this email already exists!');
        return;
      }

      // Add new user to the array
      users.push(userData);
      // Store updated user data in local storage
      localStorage.setItem('registeredUsers', JSON.stringify(users));

      // Optionally, you can redirect to a login page after successful registration
      alert('User registered successfully!');
      window.location.href = 'login.html';
    }
  </script>
</body>
</html>